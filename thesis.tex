\documentclass{ucbthesis}
\usepackage[
    backend=biber,
    natbib=true,
    style=numeric-comp,
    sorting=none
]{biblatex}


% Disable indentation of subparagraphs
\makeatletter
\renewcommand\subparagraph{\@startsection{subparagraph}{5}{\z@}%
                                      {-3.25ex\@plus -1ex \@minus -.2ex}%
                                      {0.0001pt \@plus .2ex}%
                                      {\normalfont\normalsize\bfseries}}
\makeatother


% Undefine memoir version to prevent conflict with attrib
% https://tex.stackexchange.com/questions/297110/
\let\providelength\undefined
\let\providecounter\undefined


\usepackage{adjustbox}    % Auto-resize table content (eg Opo SenSys'14 rel)
\usepackage{pdflscape}       % Support landscape orientation for table
\usepackage{amsfonts}     % Adds math fonts, commands such as \begin{align}
\usepackage{amsmath}      % Provides align* environment
\usepackage{array}        % Tables for use in math mode
\usepackage{arydshln}     % Dashed lines in tables
\usepackage{attrib}       % Quote attribution formatting
\usepackage{balance}      % For balanced columns on the last page
\usepackage{booktabs}     % Elegant table-formatting library
\usepackage{bold-extra}   % Provides bf+sc (only in textbf+textsc env.)
\usepackage{bytefield}    % Formatting and layout of packets / bytefields
\usepackage{colortbl}     % Color table cells
\usepackage{comment}      % Provides \begin,\end{comment} for large blocks
\usepackage{cprotect}     % Allows verbatim, other formatting in macro args
\usepackage{enumitem}     % Additional control of enum/item environments
\usepackage{environ}      % Necessary for the placefigure creation
\usepackage{float}        % Allow use of [H] to force figure placement
%\usepackage{gensymb}      % Adds useful symbols w/out math mode, e.g. \degree
\usepackage{graphicx}     % For importing graphics
\usepackage{lipsum}       % For generating temporary filler text
\usepackage{listings}     % in-line source code (poorly, consider minted)
\usepackage{longtable}    % Tables that wrap across pages
\setlength{\LTpre}{0pt}   % No extra whitespace before/after
\setlength{\LTpost}{-25pt} % No extra whitespace before/after
\usepackage{mathtools}    % amsmath extension, adds more math formatting
\usepackage{mdframed}     % prettier boxes?
\usepackage[protrusion=true,expansion=true,kerning,spacing]{microtype} % better type, spacing
  \microtypecontext{spacing=nonfrench}
\usepackage{multirow}     % Multiple row spacing in tables
\usepackage{nth}          % Typeset 33rd correctly as \nth{33}
\usepackage{rotating}     % Rotates any object, note sideways != sidewaysfigure
\usepackage{makecell}     % Rotates any object, note sideways != sidewaysfigure
\renewcommand\theadfont{\normalsize}
% \DisemulatePackage{setspace} % allow to use with memoir
%\usepackage{setspace}     % Allow control of interline spacing with \setstretch
% https://tex.stackexchange.com/questions/15442/
\makeatletter
\let\@currsize\normalsize
\makeatother
%
\usepackage{siunitx}      % More units and things like \ohm
\usepackage{soul}         % Provides \hl{} for highlighting
\newcommand{\hlc}[2][yellow]{{\sethlcolor{#1}\hl{#2}}}
%
\let\subcaption\undefined
\let\subfloat\undefined
\usepackage[subrefformat=parens]{subcaption}   % Replaces both subfig and subfigure -- clashes with memoir from thesis cls?
\usepackage{tabularx}     % Complicated table creation
\usepackage{textcomp}     % Provides \textmu for upright mu's
\usepackage{threeparttable} % Add footnotes to a table
\usepackage{units}        % For nice fractions, \nicefrac{1}{2} --> 1/2
\usepackage{url}          % Pretty printing of hyperlinks
\usepackage[usenames,dvipsnames,svgnames]{xcolor} % Allow the use and definition of colors
\usepackage{xspace}       % Intelligently add spaces after commands
\usepackage{xfrac}
\usepackage[T1]{fontenc}

% The hyperref package must loaded last. Can conflict with some packages, see:
% README ( http://ctan.mackichan.com/macros/latex/contrib/hyperref/README.pdf )
\usepackage[colorlinks=true,linkcolor=black,citecolor=violet,urlcolor=Navy]{hyperref}     % Creates hyperlinks from ref/cite
\hypersetup{pdfstartview=FitH} % Sets default zoom to 100% width

% And, of course, cleveref must be loaded last-last (read: after hyperref)
\usepackage[capitalise,nameinlink,noabbrev]{cleveref}     % Do the right thing with fig/table references




% Break URLs properly (thanks to Alex Halderman)
\def\UrlBreaks{\do-\do\.\do\@\do\\\do\!\do\_\do\|\do\;\do\>\do\]\do\)\do\,\do\?\do\'\do+\do\=\do\#}
\def\UrlBigBreaks{\do\:\do\/}

% Don't typset URLs in tt font
\urlstyle{same}



% Set the graphics path
\graphicspath{{figs/}{images/}}



% Some macros that a broadly useful:
\newcommand{\uW}{{\textmu}W\xspace}
\newcommand{\uA}{{\textmu}A\xspace}
\newcommand{\um}{{\textmu}m\xspace}
\newcommand{\us}{{\textmu}s\xspace}
\newcommand{\uF}{{\textmu}F\xspace}
\newcommand{\uJ}{{\textmu}J\xspace}
\newcommand{\leeiic}{Lee~\iic}
\newcommand{\iic}{I$^2$C\xspace}
\newcommand{\vdd}{V$_{\textnormal{DD}}$\xspace}
\DeclareSIUnit\Wh{Wh}
\DeclareSIUnit\Ah{Ah}
\DeclareSIUnit\bit{b}
\DeclareSIUnit\byte{B}

% Some paper-specific things:
\newcommand{\name}{Permamote\xspace}
\newcommand{\namec}{Permacam\xspace}
\newcommand{\ssi}{\,\si}

% http://tex.stackexchange.com/questions/44330/side-brace-around-image-with-underbrace
\newcommand{\bracedincludegraphics}[2][]{%
  \sbox0{$\vcenter{\hbox{\includegraphics[#1]{#2}}}$}%
  \left\lbrace
    \vphantom{\copy0}
  \right.\kern-\nulldelimiterspace
  \underbrace{\vrule width0pt depth \dimexpr\dp0 + .3ex\relax\box0}}



\bytefieldsetup{endianness=big}

\newcommand{\colorbitbox}[3]{%
\rlap{\bitbox{#2}{\color{#1}\rule{\width}{\height}}}%
\bitbox{#2}{#3}}


% From bytefield package documentation:
%   facilitates the creation of memory maps. Start address at the bottom,
%   end address at the top.
%   syntax:
%   \memsection{end address}{start address}{height in lines}{text in box}
\newcommand{\memsection}[4]{%
  % define the height of the memsection
  \bytefieldsetup{bitheight=#3\baselineskip}%
  \bitbox[]{8}{%
    \texttt{#1}% print end address
    \\
    % do some spacing
    \vspace{#3\baselineskip}
    \vspace{-2\baselineskip}
    \vspace{-#3pt}
    \texttt{#2}% print start address
  }%
  \bitbox{24}{#4}% print box with caption
}
\newcommand{\memsectionhuge}[4]{%
  \bitbox[]{8}{\texttt{#1}}
  \wordbox[lrt]{1}{#4} \\
  \bitbox[]{8}{\dots}
  \skippedwords \\
  \bitbox[]{8}{\texttt{#2}}
  \wordbox[lrb]{1}{#4}
}


\definecolor{lightblue}{RGB}{0,204,255}
\definecolor{lightcyan}{rgb}{0.84,1,1}
\definecolor{lightercyan}{rgb}{0.95,1,1}
\definecolor{lightgreen}{rgb}{0.64,1,0.71}
\definecolor{lightergreen}{rgb}{0.84,1,0.87}
\definecolor{lightred}{rgb}{1,0.7,0.71}
\definecolor{OliveGreen}{cmyk}{0.64,0,0.95,0.40}
\definecolor{superlightgray}{RGB}{204,204,204}
\definecolor{lightgray}{RGB}{144,144,144}
\definecolor{light-gray}{gray}{0.75}
\definecolor{primary-blue}{HTML}{7D9FD3}
\definecolor{fig-green}{HTML}{2ca02c}
\definecolor{fig-purple}{HTML}{9467bd}
\newcommand{\glipsum}[1][1]{
  \textcolor{light-gray}{\lipsum[#1]}
}

% http://tex.stackexchange.com/questions/94892/how-to-use-short-subsection-title-in-header-but-not-in-table-of-contents
\newcommand{\markedsection}[2]{\section[#2]{#2%
\sectionmark{#1}}
\sectionmark{#1}}

\newcommand{\markedsubsection}[2]{\subsection[#2]{#2%
\subsectionmark{#1}}
\subsectionmark{#1}}



% https://texblog.org/2012/03/21/cross-referencing-list-items/
\makeatletter
\def\namedlabel#1#2{\begingroup
    #2%
    \def\@currentlabel{#2}.%
    \phantomsection\label{#1}\endgroup
}
\makeatother


% Pull in magic latex to separate figure placement from definition
\input{tools/placefigure}


\bibliography{references}

\begin{document}

\input{configuration}

\maketitle
% Delete (or comment out) the \approvalpage line for the final version.
% \approvalpage
\copyrightpage

\include{abstract}

\begin{frontmatter}

\begin{dedication}
\null\vfil
\begin{center}
...
\end{center}
\vfil\null
\end{dedication}

% You can delete the \clearpage lines if you don't want these to start on
% separate pages.

\tableofcontents
\clearpage
\listoffigures
\clearpage
\listoftables

\begin{acknowledgements}


\end{acknowledgements}

\end{frontmatter}

\pagestyle{headings}

% (Optional) \part{First Part}

\include{1_intro}
\include{2_background}
\include{3_intuition}
\include{4_capacity}
\include{5_battery}
\include{6_impl}
%\include{7_capability}
\include{conclusion}


% \appendix
% \chapter{More Monticello Candidates}

\printbibliography
\end{document}
